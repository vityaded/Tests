<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{% extends "base.html" %}

{% block title %}My Vocabulary{% endblock %}

{% block content %}
  <h1 class="my-4">My Vocabulary</h1>

  {% if vocab_words %}
    <ul>
      {% for vocab in vocab_words %}
        <li>
          <strong>{{ vocab.word }}:</strong> {{ vocab.translation }}
          <!-- Pronunciation button as before -->
          <button class="btn btn-secondary" onclick="playPronunciation('{{ vocab.word }}')">
            <i class="fas fa-volume-up"></i>
          </button>
        </li>
      {% endfor %}
    </ul>
    <!-- Add the Learn button -->
    <a href="{{ url_for('review') }}" class="btn btn-primary">Learn</a>
  {% else %}
    <p>No words in your vocabulary yet.</p>
  {% endif %}
{% endblock %}


{% block scripts %}
  <script>
    // Function to fetch and play pronunciation using dynamic TTS URL
    function playPronunciation(word) {
      const ttsUrl = `/tts?text=${encodeURIComponent(word)}&lang=en`;
      const audio = new Audio(ttsUrl);
      audio.play();
    }
  </script>
{% endblock %}
